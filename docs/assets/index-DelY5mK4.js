!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const e="Task Description",t=document.querySelector("button#add-task"),n=document.querySelector("ul#tasks"),o=document.getElementById("pause-btn"),l=document.createElement("button");l.textContent="🌙 Toggle Dark Mode",l.className="dark-mode-btn",document.body.prepend(l),l.addEventListener("click",(()=>{document.body.classList.toggle("dark-mode")}));let s=[],r=null,c=!1,a=0;function i(l,i=0){let m=l;const y=document.createElement("li"),p=document.createElement("span"),f=document.createElement("input"),g=document.createElement("button"),k=document.createElement("button"),v=document.createElement("span");v.className="session-counter",v.innerHTML="";for(let e=0;e<i;e++){const e=document.createElement("i");e.className="fas fa-lemon",e.style.color="#FFD700",v.appendChild(e)}function E(){return Array.from(n.children).indexOf(y)}function b(t){m=t,""===m?(p.textContent=e,p.classList.add("placeholder")):(p.textContent=m,p.classList.remove("placeholder")),f.replaceWith(p);const n=E();s[n].description=m,u()}v.dataset.count=i,g.textContent="▶️ start",g.className="start-btn",g.addEventListener("click",(()=>function(e){const l=document.getElementById("timer-screen"),i=document.getElementById("current-task"),y=document.getElementById("timer");l.style.display="flex",n.style.display="none",t.style.display="none",document.querySelector(".interval-settings").style.display="none",i.textContent=m;const p=document.querySelector("#work-interval").value||25;a=60*p,c=!1,o.style.display="inline-block",o.textContent="⏸️ pause",o.onclick=function(){c=!c,o.textContent=c?"▶️ resume":"⏸️ pause"},clearInterval(r),r=setInterval((()=>{if(!c){const l=Math.floor(a/60),c=a%60;if(y.textContent=`${String(l).padStart(2,"0")}:${String(c).padStart(2,"0")}`,a--,a<0){clearInterval(r),d(),o.style.display="none";const l=e.querySelector(".session-counter");if(l){const t=(parseInt(l.dataset.count)||0)+1;l.dataset.count=t,l.innerHTML="";for(let e=0;e<t;e++){const e=document.createElement("i");e.className="fas fa-lemon",e.style.color="#FFD700",l.appendChild(e)}const o=Array.from(n.children).indexOf(e);s[o].sessionCount=t,u()}!function(){const e=document.getElementById("timer-screen"),o=document.getElementById("current-task"),l=document.getElementById("timer");o.textContent="Break time! 💥";let s=60*(document.querySelector("#break-interval").value||5);clearInterval(r),r=setInterval((()=>{const o=Math.floor(s/60),c=s%60;l.textContent=`${String(o).padStart(2,"0")}:${String(c).padStart(2,"0")}`,s--,s<0&&(clearInterval(r),l.textContent="Break over! 🎉",d(),setTimeout((()=>{e.style.display="none",n.style.display="block",t.style.display="block",document.querySelector(".interval-settings").style.display="flex"}),2e3))}),1e3),document.getElementById("stop-btn").onclick=function(){clearInterval(r),e.style.display="none",n.style.display="block",t.style.display="block",document.querySelector(".interval-settings").style.display="flex"}}()}}}),1e3),document.getElementById("stop-btn").onclick=function(){clearInterval(r),o.style.display="none",l.style.display="none",n.style.display="block",t.style.display="block",document.querySelector(".interval-settings").style.display="flex"}}(y))),k.innerHTML="🗑️",k.className="remove-btn",k.addEventListener("click",(function(){y.remove();const e=E();s.splice(e,1),u()})),f.setAttribute("type","text"),f.setAttribute("placeholder",e),y.append(p,v,g,k),n.append(y),p.addEventListener("click",(function(){f.value=m,p.replaceWith(f),f.focus(),f.addEventListener("keydown",(e=>{"Enter"===e.key?b(f.value):"Escape"===e.key&&b(m)})),f.addEventListener("blur",(()=>{b(f.value)}))})),s.push({description:m,sessionCount:i}),u(),b(m)}function d(){new Audio("https://actions.google.com/sounds/v1/alarms/beep_short.ogg").play().catch((e=>console.log("Sound play blocked:",e)))}function u(){localStorage.setItem("tasks",JSON.stringify(s))}t.addEventListener("click",(()=>i(""))),window.addEventListener("DOMContentLoaded",(()=>{const e=function(){const e=localStorage.getItem("tasks");return e?JSON.parse(e):[]}();for(const t of e)i(t.description,t.sessionCount||0)}));
//# sourceMappingURL=index-DelY5mK4.js.map
